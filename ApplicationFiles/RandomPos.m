&STACKPTR = 10000
&TIMER = 49150
&CLOCK = 49151
&RANDOM = 49149
&VGASTART = 49152
&GRASSSTART = 52992
&VGAEND = 53952
&BULLETPOS = 53713
&DUCKLIVESPOS = 53723
&GUNTRIGGER1 = 49148
&SCOREPOS = 53865
&DUCKSTARTTEST = 49900
&DUCKPOS = 16383
&BLACKCOLOR = 16377
MAIN:
MOVI $0, 0
MOVI $1, 0
LUI $1, 128
SETVAR $1, BLACKCOLOR
MOVI $3, 1
GETPOS $4, VGASTART
GETVAR $5, BLACKCOLOR
GETPOS $6, VGAEND
JUMPAL $15, FLASHSCREEN
JUMPAL $15, GETRANDOMPOS
GETVAR $1, DUCKPOS
STOR $0, $1
MOVI $2, 127
MOVI $1, 1
SETVAR $1, TIMER
JUMPAL $15, SPIN
JUMPUC MAIN
END:
JUMPUC END
SPIN:
MOVI $4, 1
GETVAR $1, TIMER
CMP $1, $2
JEQ $9
JUMPUC SPIN
FLASHSCREEN:
STOR $5, $4
ADD $3, $4
CMP $4, $6
JGE $15
JUMPUC FLASHSCREEN
GETRANDOMPOS:
GETPOS $5, VGASTART
MOVI $1, 127
MOVI $2, 63
GETVAR $4, RANDOM
AND $4, $1
AND $1, $2
MOV $2, $3
MULI $3, 80
ADD $5, $3
SETVAR $3, DUCKPOS
CMPI $1, 64
JLO $15
MOV $2, $3
MULI $3, 80
ADDI $3, 79
ADD $5, $3
SETVAR $3, DUCKPOS
CMPI $1, 128
JLO $15
MOV $2, $3
ADD $5, $3
SETVAR $3, DUCKPOS
JUC $15